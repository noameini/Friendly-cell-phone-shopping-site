@{
    ViewBag.Title = "Home Page";
}

@using ProjA.Models

<br /><br />

<center>
    <input type="text" id="search" placeholder="Search.." style="width:600px;
    height:42px;
    box-sizing: border-box;
    border: 2px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    background-color: white;
    background-image: url('searchicon.png');
    background-position: 10px 10px;
    background-repeat: no-repeat;
    padding: 12px 20px 12px 40px;
    -webkit-transition: width 0.4s ease-in-out;
    transition: width 0.4s ease-in-out;">
    <a href="#" class="btn btn-primary " onclick="butnclck()">search!</a>
</center>
<br />
<div class="container" style="width:80%;">
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">

            <div class="item active">
                <a href="#" onclick="butnclck1()">
                    <img src="http://www.kachwanya.com/wp-content/uploads/2015/10/kachwanya-2.jpg" alt="SmartPhones" style="width:100%; height: 400px;">
                    <div class="carousel-caption">
                        <h3>Smartphones</h3>
                    </div>
                </a>
            </div>

            <div class="item">
                <a href="#" onclick="butnclck2()">
                    <img src="http://files-ptdpritol.netdna-ssl.com/system/photos/1316690/large/05ded2bca73ffcc8f18c0632a7806abe.jpg" alt="Chargers" style="width:100%; height: 400px;">
                    <div class="carousel-caption">
                        <h3>Chargers</h3>
                    </div>
                </a>
            </div>

            <div class="item">
                <a href="#" onclick="butnclck3()">
                    <img src="http://cdn03.androidauthority.net/wp-content/uploads/2016/12/huawei-mate-9-case-ringke-fusion.jpg" alt="Cases" style="width:100%; height: 400px;">
                    <div class="carousel-caption">
                        <h3>Cases</h3>
                    </div>
                </a>
            </div>

        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<div id="divSmart" style="display:none; padding-top:40px">
    @{string user = (string)Session["user"];}
    @{ Items[] item = (Items[])Session["items"]; }
    @{ int count = 0; }
    @if (item != null)
    {

        foreach (Items it in item)
        {
            if (it.itemType.Equals("Smartphone") && it.views != 10 && !it.userName.Equals(user))
            {
                if (count == 3)
                {
                    count = 0;

                    <div class="row text-center">
                        <div class="col-md-3 col-sm-6 hero-feature">
                            <div class="thumbnail">
                                <img src=@it.image style="width:200px;height:200px;">
                                <div class="caption">
                                    <h3>@it.itemType</h3>
                                    <table class="table-hover ">
                                        <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                        <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                        <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                        <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                        <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                        <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                    </table>
                                    <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                                </div>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    count++;
                    <div class="col-md-3 col-sm-6 hero-feature">
                        <div class="thumbnail">
                            <img src=@it.image style="width:200px;height:200px;">
                            <div class="caption">
                                <h3>@it.itemType</h3>
                                <table class="table-hover ">
                                    <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                    <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                    <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                    <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                    <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                    <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                </table>
                                <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                            </div>
                        </div>
                    </div>
                }
            }
        }
    }
</div>


<div id="divCases" style="display:none; padding-top:40px">

    @{ item = (Items[])Session["items"]; }
    @{count = 0;}
    @if (item != null)
    {

        foreach (Items it in item)
        {
            if (it.itemType.Equals("Case") && it.views != 10 && !it.userName.Equals(user))
            {
                if (count == 3)
                {
                    count = 0;

                    <div class="row text-center">
                        <div class="col-md-3 col-sm-6 hero-feature">
                            <div class="thumbnail">
                                <img src=@it.image style="width:200px;height:200px;">
                                <div class="caption">
                                    <h3>@it.itemType</h3>
                                    <table class="table-hover ">
                                        <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                        <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                        <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                        <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                        <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                        <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                    </table>
                                    <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                                </div>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    count++;
                    <div class="col-md-3 col-sm-6 hero-feature">
                        <div class="thumbnail">
                            <img src=@it.image style="width:200px;height:200px;">
                            <div class="caption">
                                <h3>@it.itemType</h3>
                                <table class="table-hover ">
                                    <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                    <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                    <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                    <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                    <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                    <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                </table>
                                <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                            </div>
                        </div>
                    </div>
                }
            }
        }
    }
</div>


<div id="divChargers" style="display:none; padding-top:40px">
    @{ item = (Items[])Session["items"]; }
    @{count = 0;}
    @if (item != null)
    {

        foreach (Items it in item)
        {

            if (it.itemType.Equals("Charger") && it.views != 10 && !it.userName.Equals(user))
            {
                if (count == 3)
                {
                    count = 0;

                    <div class="row text-center">
                        <div class="col-md-3 col-sm-6 hero-feature">
                            <div class="thumbnail">
                                <img src=@it.image style="width:200px;height:200px;">
                                <div class="caption">
                                    <h3>@it.itemType</h3>
                                    <table class="table-hover ">
                                        <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                        <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                        <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                        <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                        <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                        <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                    </table>
                                    <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                                </div>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    count++;
                    <div class="col-md-3 col-sm-6 hero-feature">
                        <div class="thumbnail">
                            <img src=@it.image style="width:200px;height:200px;">
                            <div class="caption">
                                <h3>@it.itemType</h3>
                                <table class="table-hover ">
                                    <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                    <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                    <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                    <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                    <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                    <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                </table>
                                <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                            </div>
                        </div>
                    </div>
                }
            }
        }
    }
</div>



<div id="divSearch" style="display:none; padding-top:40px">
    @{ item = (Items[])Session["items"]; }
    @{count = 0;}
    @if (item != null)
    {

        foreach (Items it in item)
        {

            if (it.views != 10 && !it.userName.Equals(user))
            {
                if (count == 3)
                {
                    count = 0;

                    <div class="row text-center">
                        <div class="col-md-3 col-sm-6 hero-feature">
                            <div class="thumbnail">
                                <img src=@it.image style="width:200px;height:200px;">
                                <div class="caption">
                                    <h3>@it.itemType</h3>
                                    <table class="table-hover ">
                                        <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                        <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                        <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                        <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                        <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                        <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                    </table>
                                    <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                                </div>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    count++;
                    <div class="col-md-3 col-sm-6 hero-feature">
                        <div class="thumbnail">
                            <img src=@it.image style="width:200px;height:200px;">
                            <div class="caption">
                                <h3>@it.itemType</h3>
                                <table class="table-hover ">
                                    <tr><th>Publisher:&nbsp; </th><td>@it.userName</td></tr>
                                    <tr><th>Manufacturer:&nbsp; </th><td>@it.manufacturer</td></tr>
                                    <tr><th>Model:&nbsp; </th><td>@it.modelName</td></tr>
                                    <tr><th>Status:&nbsp; </th><td>@it.status</td></tr>
                                    <tr><th>Description:&nbsp; </th><td>@it.C_description</td></tr>
                                    <tr><th>Price:&nbsp; </th><td>@it.price $</td></tr>
                                </table>
                                <p><a href="#" class="btn btn-primary" id="@it.itemNumber" onclick="Buy(event)">Buy Now!!</a></p>

                            </div>
                        </div>
                    </div>
                }
            }
        }
    }
</div>


<script src="~/Scripts/sweetalert.min.js"></script>

<script>

    var butnclck = function () {
        $("#divSearch").show();
        $("#divSmart").hide();
        $("#divChargers").hide();
        $("#divCases").hide();

    }

    var butnclck1 = function () {
        $("#divSearch").hide();
        $("#divSmart").show();
        $("#divChargers").hide();
        $("#divCases").hide();

    }

    var butnclck2 = function () {

        $("#divSearch").hide();
        $("#divSmart").hide();
        $("#divChargers").show();
        $("#divCases").hide();
    }

    var butnclck3 = function () {

        $("#divSearch").hide();
        $("#divSmart").hide();
        $("#divChargers").hide();
        $("#divCases").show();
    }
    
    var Buy = function () {
        debugger
        var data = event.target.id;

        $.ajax({
            type: 'POST',
            url: "/Users/Buy?data="+data,

            success: function (result) {
                debugger
                if (result == 1) {
                    swal(
                       'Thank you, enjoy from your new item!',
                       ' ',
                       'success'
                        );
                    var elem = document.getElementById(data);
                    elem.parentNode.removeChild(elem);
                }
                else {
                    swal(
                      'ERORR, try again later!',
                      ' ',
                      'Failed'
                       );
                }
            }

        });



    }

</script>
